
=====================================
2021-05-21 22:52:08 0x7f9468b49700 INNODB MONITOR OUTPUT
=====================================
Per second averages calculated from the last 3 seconds
-----------------
BACKGROUND THREAD
-----------------
srv_master_thread loops: 219358 srv_active, 0 srv_shutdown, 506023 srv_idle
srv_master_thread log flush and writes: 725381
----------
SEMAPHORES
----------
OS WAIT ARRAY INFO: reservation count 1685126
OS WAIT ARRAY INFO: signal count 1850555
RW-shared spins 0, rounds 1062156, OS waits 467435
RW-excl spins 0, rounds 9931970, OS waits 319270
RW-sx spins 45162, rounds 1101721, OS waits 22219
Spin rounds per wait: 1062156.00 RW-shared, 9931970.00 RW-excl, 24.39 RW-sx
------------------------
LATEST DETECTED DEADLOCK
------------------------
2021-05-21 22:51:14 0x7f9468ed7700
*** (1) TRANSACTION:
TRANSACTION 123090800, ACTIVE 14 sec inserting
mysql tables in use 1, locked 1
LOCK WAIT 3 lock struct(s), heap size 1136, 2 row lock(s), undo log entries 1
MySQL thread id 72241, OS thread handle 140275647706880, query id 4754570 192.168.0.48 root update
insert into t values(60,35,62,63) on duplicate key update c2=35
*** (1) WAITING FOR THIS LOCK TO BE GRANTED:
RECORD LOCKS space id 1426 page no 4 n bits 72 index i_c2 of table `deadlock`.`t` trx id 123090800 lock_mode X locks gap before rec insert intention waiting
Record lock, heap no 6 PHYSICAL RECORD: n_fields 2; compact format; info bits 0
0: len 4; hex 80000024; asc    $;;
1: len 4; hex 80000032; asc    2;;

*** (2) TRANSACTION:
TRANSACTION 123090799, ACTIVE 16 sec inserting
mysql tables in use 1, locked 1
4 lock struct(s), heap size 1136, 4 row lock(s), undo log entries 2
MySQL thread id 72240, OS thread handle 140275392280320, query id 4754610 192.168.0.48 root update
-- start transaction;
-- insert into t values(50,36,52,53) on duplicate key update c2=36;

insert into t values(70,34,72,73) on duplicate key update c2=34
*** (2) HOLDS THE LOCK(S):
RECORD LOCKS space id 1426 page no 4 n bits 72 index i_c2 of table `deadlock`.`t` trx id 123090799 lock_mode X locks gap before rec
Record lock, heap no 5 PHYSICAL RECORD: n_fields 2; compact format; info bits 0
0: len 4; hex 80000029; asc    );;
1: len 4; hex 80000028; asc    (;;

Record lock, heap no 6 PHYSICAL RECORD: n_fields 2; compact format; info bits 0
0: len 4; hex 80000024; asc    $;;
1: len 4; hex 80000032; asc    2;;

*** (2) WAITING FOR THIS LOCK TO BE GRANTED:
RECORD LOCKS space id 1426 page no 4 n bits 72 index i_c2 of table `deadlock`.`t` trx id 123090799 lock_mode X locks gap before rec insert intention waiting
Record lock, heap no 6 PHYSICAL RECORD: n_fields 2; compact format; info bits 0
0: len 4; hex 80000024; asc    $;;
1: len 4; hex 80000032; asc    2;;

*** WE ROLL BACK TRANSACTION (1)
------------
TRANSACTIONS
------------
Trx id counter 123090819
Purge done for trx's n:o < 123090816 undo n:o < 0 state: running but idle
History list length 1769
LIST OF TRANSACTIONS FOR EACH SESSION:
---TRANSACTION 421755082405712, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421755082408448, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421755082412096, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421755082406624, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421755082410272, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421755082409360, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 421755082407536, not started
0 lock struct(s), heap size 1136, 0 row lock(s)
---TRANSACTION 123090799, ACTIVE 70 sec
4 lock struct(s), heap size 1136, 5 row lock(s), undo log entries 2
MySQL thread id 72240, OS thread handle 140275392280320, query id 4754613 192.168.0.48 root cleaning up
--------
FILE I/O
--------
I/O thread 0 state: waiting for completed aio requests (insert buffer thread)
I/O thread 1 state: waiting for completed aio requests (log thread)
I/O thread 2 state: waiting for completed aio requests (read thread)
I/O thread 3 state: waiting for completed aio requests (read thread)
I/O thread 4 state: waiting for completed aio requests (read thread)
I/O thread 5 state: waiting for completed aio requests (read thread)
I/O thread 6 state: waiting for completed aio requests (write thread)
I/O thread 7 state: waiting for completed aio requests (write thread)
I/O thread 8 state: waiting for completed aio requests (write thread)
I/O thread 9 state: waiting for completed aio requests (write thread)
Pending normal aio reads: [0, 0, 0, 0] , aio writes: [0, 0, 0, 0] ,
ibuf aio reads:, log i/o's:, sync i/o's:
Pending flushes (fsync) log: 0; buffer pool: 0
1093425 OS file reads, 6790046 OS file writes, 2218148 OS fsyncs
0.00 reads/s, 0 avg bytes/read, 5.33 writes/s, 4.33 fsyncs/s
-------------------------------------
INSERT BUFFER AND ADAPTIVE HASH INDEX
-------------------------------------
Ibuf: size 1, free list len 2457, seg size 2459, 509 merges
merged operations:
insert 2434, delete mark 6, delete 0
discarded operations:
insert 0, delete mark 0, delete 0
Hash table size 796871, node heap has 14 buffer(s)
Hash table size 796871, node heap has 8768 buffer(s)
Hash table size 796871, node heap has 1 buffer(s)
Hash table size 796871, node heap has 2 buffer(s)
Hash table size 796871, node heap has 106 buffer(s)
Hash table size 796871, node heap has 53 buffer(s)
Hash table size 796871, node heap has 1 buffer(s)
Hash table size 796871, node heap has 30 buffer(s)
31.66 hash searches/s, 0.33 non-hash searches/s
---
LOG
---
Log sequence number 379999570035
Log flushed up to   379999570018
Pages flushed up to 379999563672
Last checkpoint at  379999563174
0 pending log flushes, 0 pending chkp writes
1687225 log i/o's done, 1.00 log i/o's/second
----------------------
BUFFER POOL AND MEMORY
----------------------
Total large memory allocated 3298295808
Dictionary memory allocated 3768901
Buffer pool size   196584
Free buffers       8194
Database pages     179401
Old database pages 66062
Modified db pages  36
Pending reads 0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 2889805, not young 191598435
0.00 youngs/s, 0.00 non-youngs/s
Pages read 1088312, created 235496, written 4407039
0.00 reads/s, 0.00 creates/s, 3.00 writes/s
Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 179401, unzip_LRU len: 0
I/O sum[648]:cur[0], unzip sum[0]:cur[0]
----------------------
INDIVIDUAL BUFFER POOL INFO
----------------------
---BUFFER POOL 0
Buffer pool size   24573
Free buffers       1024
Database pages     22428
Old database pages 8259
Modified db pages  4
Pending reads 0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 267198, not young 23883553
0.00 youngs/s, 0.00 non-youngs/s
Pages read 134552, created 28925, written 779210
0.00 reads/s, 0.00 creates/s, 0.67 writes/s
Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 22428, unzip_LRU len: 0
I/O sum[81]:cur[0], unzip sum[0]:cur[0]
---BUFFER POOL 1
Buffer pool size   24573
Free buffers       1024
Database pages     22428
Old database pages 8259
Modified db pages  3
Pending reads 0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 274465, not young 24596559
0.00 youngs/s, 0.00 non-youngs/s
Pages read 132471, created 29347, written 484925
0.00 reads/s, 0.00 creates/s, 0.00 writes/s
Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 22428, unzip_LRU len: 0
I/O sum[81]:cur[0], unzip sum[0]:cur[0]
---BUFFER POOL 2
Buffer pool size   24573
Free buffers       1024
Database pages     22423
Old database pages 8257
Modified db pages  4
Pending reads 0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 529109, not young 24177719
0.00 youngs/s, 0.00 non-youngs/s
Pages read 142300, created 28984, written 455719
0.00 reads/s, 0.00 creates/s, 0.33 writes/s
Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 22423, unzip_LRU len: 0
I/O sum[81]:cur[0], unzip sum[0]:cur[0]
---BUFFER POOL 3
Buffer pool size   24573
Free buffers       1025
Database pages     22436
Old database pages 8262
Modified db pages  4
Pending reads 0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 279583, not young 23438301
0.00 youngs/s, 0.00 non-youngs/s
Pages read 127755, created 29972, written 543148
0.00 reads/s, 0.00 creates/s, 0.00 writes/s
Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 22436, unzip_LRU len: 0
I/O sum[81]:cur[0], unzip sum[0]:cur[0]
---BUFFER POOL 4
Buffer pool size   24573
Free buffers       1024
Database pages     22418
Old database pages 8255
Modified db pages  3
Pending reads 0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 434360, not young 23502156
0.00 youngs/s, 0.00 non-youngs/s
Pages read 135819, created 29814, written 542768
0.00 reads/s, 0.00 creates/s, 1.00 writes/s
Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 22418, unzip_LRU len: 0
I/O sum[81]:cur[0], unzip sum[0]:cur[0]
---BUFFER POOL 5
Buffer pool size   24573
Free buffers       1024
Database pages     22424
Old database pages 8257
Modified db pages  4
Pending reads 0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 359921, not young 24345227
0.00 youngs/s, 0.00 non-youngs/s
Pages read 143026, created 30036, written 503204
0.00 reads/s, 0.00 creates/s, 0.00 writes/s
Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 22424, unzip_LRU len: 0
I/O sum[81]:cur[0], unzip sum[0]:cur[0]
---BUFFER POOL 6
Buffer pool size   24573
Free buffers       1025
Database pages     22436
Old database pages 8262
Modified db pages  6
Pending reads 0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 339038, not young 23566734
0.00 youngs/s, 0.00 non-youngs/s
Pages read 133226, created 29635, written 616910
0.00 reads/s, 0.00 creates/s, 0.33 writes/s
Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 22436, unzip_LRU len: 0
I/O sum[81]:cur[0], unzip sum[0]:cur[0]
---BUFFER POOL 7
Buffer pool size   24573
Free buffers       1024
Database pages     22408
Old database pages 8251
Modified db pages  8
Pending reads 0
Pending writes: LRU 0, flush list 0, single page 0
Pages made young 406131, not young 24088186
0.00 youngs/s, 0.00 non-youngs/s
Pages read 139163, created 28783, written 481155
0.00 reads/s, 0.00 creates/s, 0.67 writes/s
Buffer pool hit rate 1000 / 1000, young-making rate 0 / 1000 not 0 / 1000
Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s
LRU len: 22408, unzip_LRU len: 0
I/O sum[81]:cur[0], unzip sum[0]:cur[0]
--------------
ROW OPERATIONS
--------------
0 queries inside InnoDB, 0 queries in queue
0 read views open inside InnoDB
Process ID=30381, Main thread ID=140275974719232, state: sleeping
Number of rows inserted 16344075, updated 841575, deleted 307914, read 224541726622
10.66 inserts/s, 0.00 updates/s, 0.00 deletes/s, 0.00 reads/s
----------------------------
END OF INNODB MONITOR OUTPUT
============================
