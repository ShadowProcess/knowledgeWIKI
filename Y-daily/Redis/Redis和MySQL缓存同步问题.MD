```
1.先更新缓存，再更新数据库
2.先更新数据库，再更新缓存
3.先删除缓存，再更新数据库
4.先更新数据库，再删除缓存
```

一般项目程序只需要使用：先更新数据库，再删除缓存就可以了


#如果系统要求较高：那么需要下面几种方案

========================================================================================================================  
Canal是阿里巴巴旗下的一款开源项目，纯Java开发。基于数据库增量日志解析，提供增量数据订阅&消费，目前主要支持了MySQL（也支持mariaDB）
```
先了解下MySQL复制的原理:
 主服务器操作数据，并将数据写入Bin log
 从服务器调用I/O线程读取主服务器的Bin log，并且写入到自己的Relay log中，再调用SQL线程从Relay log中解析数据，从而同步到自己的数据库中.
```
```
Canal工作原理（模仿MySQL复制）：
canal模拟mysql slave的交互协议，伪装自己为mysql slave，向mysql master发送dump协议
mysql master收到dump请求，开始推送binary log给slave（也就是canal）
canal解析binary log对象（原始为byte流）

大致的解析过程如下：
parse解析MySQL的Bin log，然后将数据放入到sink中
sink对数据进行过滤，加工，分发
store从sink中读取解析好的数据存储起来
然后自己用设计代码将store中的数据同步写入Redis中就可以了
其中parse/sink是框架封装好的，我们做的是store的数据读取那一步
```
[]: https://juejin.cn/post/6938423886446854180  

========================================================================================================================  
基于消息队列解决：   
[]: https://juejin.cn/post/6850418121754050567